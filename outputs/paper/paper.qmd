---
title: "The Relationship between Family Status and Academic Achievement in Children"
author: 
  - Ruibo Sun
thanks: "https://github.com/ruibosun/how-parents-affect-childrens-education"
date: "`r Sys.time()`"
date-format: "12-03-2023"
abstract: "This paper explores the relationship between family status variables, such as parents' socio-economic status and educational level, and their impact on children's academic achievement and education level using the data from 2021 GSS. Previous studies have suggested that parents' education can positively influence their children's academic performance due to increased access to resources and greater involvement in their education. However, recent research has demonstrated that this relationship is complex and can be influenced by a variety of psychological and sociological factors. The findings suggest that parents' education, family income, and prestige score all have a positive correlation with children's education. Further research is needed to fully understand the complexities of this relationship and use the results to improve educational policies and programs."
format: pdf
number-sections: true
bibliography: references.bib
---

```{r}
#| include: false
#| warning: false
#| message: false
library(broom)
library(knitr)
library(kableExtra)
library(tidyverse)
library(dplyr)
library(here)
library(haven)
library(scales)
#library(purrr)
#library(forcats)
library(patchwork)
```

```{r,echo=FALSE}
#| include: false
#| warning: false
#| message: false
cleaned_data <- read_csv(
  file = here("inputs/data/GSS2021 2.csv"))
```


# Introduction

You can and should cross-reference sections and sub-sections. For instance, @sec-data and @sec-first-point. 

In the past, family status variables, such as the socio-economic status and educational level of parents, were commonly considered as strong predictors of academic achievement in children. More specifically, parents who have lower levels of education, those with higher levels of education are more inclined to view higher education as desirable and encourage their children to excel academically. They also tend to hold higher expectations for their children's academic performance. 
(https://www.academia.edu/2712079/How_does_parents_education_level_influence_parenting_and_childrens_achievement)

One potential explanation for this relationship is that higher levels of education can provide parents with access to resources such as income, time, energy, and community contacts, which can enable greater involvement in a child's education. As a result, the influence of family status variables on children's academic achievement may be best understood as a complex interaction between status and process variables (https://files.eric.ed.gov/fulltext/EJ1079955.pdf).

However, recent research has indicated that the relationship between these factors and academic achievement is not always direct. Instead, socio-economic status and parents' education are part of a larger set of psychological and sociological variables that can impact children's educational outcomes (https://files.eric.ed.gov/fulltext/EJ1079955.pdf).

This paper will test and explore how parents’ social-economics status can affect childrens’ education. The data that will be used in this paper comes from the US General Social Survey from National Opinion Research Center at the University of Chicago. The factor of socio-economics status is measured using the occupation prestige score. It is a measure used in social science research to assess the level of social status or prestige associated with a particular occupation or profession, which were developed by the National Opinion Research Center at the University of Chicago. As part of the GSS, respondents are asked to rate the prestige or social standing of various occupations on a scale of 1 to 90, with higher scores indicating greater prestige. Another variable that has been used is the education level, which is a number of variables to indicate the number of years the respondents have spent in school and college.
(https://gss.norc.org/Documents/reports/methodological-reports/MR122%20Occupational%20Prestige.pdf) 

*MISSING*briefly discuss the results and application.



# Data {#sec-data}

Our data is of penguins (@fig-bills).

# Results

```{r}
#| message: false
#| echo: false
#| warning: false
#| label: tbl-degree
#| tbl-cap: Respondents' Degree in 2021 Survey

tb1 <- cleaned_data %>% 
  count(degree) %>% 
  mutate(percent=percent(x=n/sum(n))) %>% 
  rename(Degree = degree, Frequency = n, Proportion = percent)

tb1<-tb1%>%arrange(factor(tb1$Degree,c("graduate", "bachelor's", "associate/junior college", "high school", "less than high school", NA)))

tb1%>%kable()
```

```{r}
#| label: fig-educ
#| fig-cap: Histogram of Respondents' Education
#| echo: false
#| warning: false
#| message: false
#| fig-width: 8
#| fig-height: 4
ggplot(data = cleaned_data, aes(x = educ)) +
  
  geom_histogram(aes(y = ..density..), binwidth = 2, fill = "white") +
  geom_density(alpha = .2, fill = "lightblue") +
  
  # geom_histogram(bins = 15, fill = "lightblue", color = "white") +
  labs(x = "Education (in Years)", y = "Desensity") +
  scale_x_continuous(breaks = seq(0, 20, by = 1)) +
  theme_bw()
```

```{r}
#| message: false
#| echo: false
#| warning: false
#| label: tbl-educationyears
#| tbl-cap: Number of respondents by gender for 2021 survey
tb0 <- cleaned_data %>% summarise(Min = min(cleaned_data$educ,na.rm=T),
                              Median = median(cleaned_data$educ,na.rm=T),
                              Max = max(cleaned_data$educ,na.rm = T),
                              Mean = mean(cleaned_data$educ,na.rm=T))

tb0 %>% kable()
```

```{r}
#| label: fig-parentpre
#| fig-cap: Mother's and Father's Prestige Score
#| echo: false
#| warning: false
#| message: false
#| fig-width: 8
#| fig-height: 4
# ggplot(cleaned_data, aes(x = mapres10)) +
#   geom_histogram(aes(y = ..density.., fill = "mapres10"), alpha = 1, binwidth = 2,color = "black") +
#   geom_histogram(aes(x = papres10, y = ..density.., fill = "paeduc"), alpha = 0.8, binwidth = 2,color = "black") +
#   scale_fill_manual(values = c("mapres10" = "lightblue", "paeduc" = "darkred"), name = "Variables") +
#   labs(title = "Mother's and Father's Prestige Score",
#        x = "Prestige Score",
#        y = "Density")+
#   theme_bw()

#prestige score distribution
ggplot(cleaned_data, aes(x = mapres10)) +
  geom_histogram(aes(y = ..density.., fill = "Mother's Prestige Score"), alpha = 1, binwidth = 1, color = "black")+
  geom_histogram(aes(x = papres10, y = ..density.., fill = "Father's Prestige Score"), alpha = 0.8, binwidth = 1, color = "black") +
  scale_fill_manual(values = c("Mother's Prestige Score" = "darkgreen", "Father's Prestige Score" = "lightgreen"), name = "Variables") +
  labs(x = "Prestige Score",
       y = "Density") +
  theme_bw()
```

```{r}
#| label: fig-presandeduc
#| fig-cap: Mother's and Father's Prestige Score
#| echo: false
#| warning: false
#| message: false
#| fig-width: 8
#| fig-height: 4
#pres vs. educ
p1 <- ggplot(cleaned_data, aes(x=educ, y=papres10)) +
  geom_point(color="#69b3a2", size=2,alpha=0.3) +
  labs(x="Education (in Years)", y="Father's Prestige Score")+
  theme_bw()
p2 <- ggplot(cleaned_data, aes(x=educ, y=mapres10)) +
  geom_point(color="darkgreen",size=2,alpha=0.3) +
  labs(x="Education (in Years)", y="Mother's Prestige Score")+
  theme_bw()

p1 + p2
```


```{r}
#| label: fig-parentseduc
#| fig-cap: Mother's Education and Father's Education Level
#| echo: false
#| warning: false
#| message: false
#| fig-width: 8
#| fig-height: 4
ggplot(cleaned_data, aes(x = maeduc)) +
geom_histogram(aes(y = ..density.., fill = "Mother's Education"), alpha = 1, binwidth = 0.5, color = "black") +
geom_histogram(aes(x = paeduc, y = ..density.., fill = "Father's Education"), alpha = 0.8, binwidth = 0.5, color = "black") +
scale_fill_manual(values = c("Mother's Education" = "darkgreen", "Father's Education" = "lightgreen"), name = "Variables") +
labs(x = "Education (in Years)",
y = "Density") +
theme_bw()
```


Talk more about it.

Also bills and their average (@fig-billssssss). (You can change the height and width, but don't worry about doing that until you have finished every other aspect of the paper - Quarto will try to make it look nice and the defaults usually work.)

```{r}
#| label: fig-birth
#| fig-cap: Birthplace of the Respondent (if outside of US)
#| echo: false
#| warning: false
#| message: false
#| fig-width: 8
#| fig-height: 4

ggplot(cleaned_data, aes(x = educ, fill = factor(born))) +
  geom_histogram(position = "dodge", binwidth = 1.5, alpha = 0.5, color = "black")+
   labs(x = "Education (in Years)",
       y = "Count",
       fill = "Birthplace of the Respondent (if in, of US)")+
  theme_bw()
```
```{r,echo=FALSE}
tb3 <- cleaned_data %>% 
  count(born) %>% 
  mutate(percent=percent(x=n/sum(n)))
```


```{r}
#| label: fig-region
#| fig-cap: Respondent's Living Region at Age of 16 v.s. Education
#| echo: false
#| warning: false
#| message: false
#| fig-width: 8
#| fig-height: 4
ggplot(cleaned_data, aes(x = educ,fill = factor(reg16))) +
  geom_histogram(binwidth = 2, color = "black") +
  facet_wrap(~ reg16, ncol = 2)+
  labs(x = "Education (in Years)",
       y = "Count")+
  theme_bw()+
  theme(legend.position = "none")
```

```{r,echo=FALSE}
tb4 <- cleaned_data %>% 
  count(reg16) %>% 
  mutate(percent=percent(x=n/sum(n)))
```


```{r}
#| label: fig-maincome
#| fig-cap: Education vs Mother's Education with respect to Family Income
#| echo: false
#| warning: false
#| message: false
#| fig-width: 8
#| fig-height: 4
ggplot(cleaned_data, aes(x = educ, y = maeduc, color = incom16)) +
  geom_jitter(alpha = 0.2) +
  stat_smooth(method = "lm", se = FALSE) +
  facet_wrap(~incom16)+
  labs(x = "Education (in Years)",
       y = "Mother's Educaion (in Years)",
       color = "Family Income (at Age of 16)") +
  scale_color_discrete(name = "Family Income (at Age of 16)") +
  theme_bw()
```

```{r}
#| label: fig-paincome
#| fig-cap: Education vs Father's Education with respect to Family Income
#| echo: false
#| warning: false
#| message: false
#| fig-width: 8
#| fig-height: 4

ggplot(cleaned_data, aes(x = educ, y = paeduc, color = incom16)) +
  geom_jitter(alpha = 0.2) +
  stat_smooth(method = "lm", se = FALSE) +
  facet_wrap(~incom16)+
  labs(x = "Education (in Years)",
       y = "Father's Educaion (in Years)",
  color = "Family Income (at Age of 16)") +
  scale_color_discrete(name = "Family Income (at Age of 16)") +
  theme_bw()
```

```{r}
#| message: false
#| echo: false
#| warning: false
#| label: tbl-lmeduc
#| tbl-cap: Linear Model and its Summary Statistics

# Fit the model
model <- lm(educ ~ mapres10 + papres10 + paeduc + maeduc, data = cleaned_data)

modelsummary::modelsummary(
  list(
    "Children's Education" = model
  ),
  fmt = 2,
  statistic = "conf.int"
)
```


Talk way more about it. 



# Model {#sec-model}

$$
Pr(\theta | y) = \frac{Pr(y | \theta) Pr(\theta)}{Pr(y)}
$$ {#eq-bayes}

@eq-bayes seems useful, eh?

Here's a dumb example of how to use some references: In paper we run our analysis in `R` [@citeR]. We also use the `tidyverse` which was written by @thereferencecanbewhatever If we were interested in baseball data then @citeLahman could be useful. 

We can use maths by including latex between dollar signs, for instance $\theta$.


# Discussion

## First discussion point {#sec-first-point}

If my paper were 10 pages, then should be be at least 2.5 pages. The discussion is a chance to show off what you know and what you learnt from all this. 

## Second discussion point

## Third discussion point

## Weaknesses and next steps {#sec-weaknesses}
*problems with prestige score:*

Subjectivity: Even measures of prestige that attempt to capture objective indicators of social status, such as income or educational attainment, are still subject to subjective interpretation. People's perceptions of what constitutes a high-prestige occupation may vary based on their own cultural, social, or personal biases.

Historical and cultural context: Measures of prestige are not fixed over time and may vary across different societies or historical periods. For example, certain occupations that were highly prestigious in the past, such as blacksmith or scribe, may be less highly regarded today.

Heterogeneity within occupations: Different individuals within the same occupation may have different levels of prestige, depending on factors such as their level of experience, education, or specialization.

Overemphasis on certain aspects of occupation: Some measures of prestige may place too much emphasis on certain aspects of occupation, such as income or educational requirements, while overlooking other important factors such as job security, working conditions, or level of autonomy.

Lack of nuance: Prestige scores may provide a broad measure of social status and occupational major groups, but they may not capture the complexity and diversity of occupational experiences, especially for those in lower-prestige occupations.
(https://www.researchgate.net/publication/236747304_A_Scale_of_Occupational_Prestige_in_Canada_Based_on_NOC_Major_Groups)

*problems with missing data:*

Reduced statistical power is one such issue, which lowers the likelihood of rejecting the null hypothesis when it is false.
Missing data can also cause bias in parameter estimation.
The representativeness of the sample can also be reduced due to missing data.
The analysis of the study can become more complex when missing data is present.
These problems can threaten the validity of the trials and lead to invalid conclusions.
(https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3668100/)


\newpage


# References



